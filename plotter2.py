import streamlit as st
import pandas as pd
import numpy as np
import datetime as dt
import matplotlib.pyplot as plt
import matplotlib.animation as animation
import time

st.title('Baby Monitor')

DATE_COLUMN = 'date/time'
DATAURL = '/Users/shasha/workspace/libtock-c/examples/tutorials/babymonitor/new.txt'


def sample_data():
    df = pd.read_csv(DATAURL, names=['timestamp', 'type', 'o', 's'], 
                         sep=',', engine='python')
    df.dropna(inplace=True)
    df['timestamp'] = pd.to_datetime(df['timestamp'])
    df_query = df[df['timestamp']>=(dt.datetime.now()-dt.timedelta(seconds=1))]
    return df

if st.checkbox('Show raw data'):
    st.subheader('Raw data')
    st.write(data)


data = sample_data()
# st.write(data)

st.line_chart(data[['o']])

st.line_chart(data[['s']])


# st.subheader('Number of pickups by hour')
# hist_values = np.histogram(data[DATE_COLUMN].dt.hour, bins=24, range=(0,24))[0]
# st.bar_chart(hist_values)
# data_load_state.text('Loading data... done!')

# if st.checkbox('Show raw data'):
#     st.subheader('Raw data')
#     st.write(data)

# st.subheader('Number of pickups by hour')
# hist_values = np.histogram(data[DATE_COLUMN].dt.hour, bins=24, range=(0,24))[0]
# st.bar_chart(hist_values)

# # Some number in the range 0-23
# hour_to_filter = st.slider('hour', 0, 23, 17)
# filtered_data = data[data[DATE_COLUMN].dt.hour == hour_to_filter]

# st.subheader('Map of all pickups at %s:00' % hour_to_filter)
# st.map(filtered_data)






























































































































































































































































































































































































































































































































































































